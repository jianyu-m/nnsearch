\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{grid\PYGZus{}search}\PYG{p}{(}\PYG{n}{grid\PYGZus{}records}\PYG{p}{,} \PYG{n}{lat}\PYG{p}{,} \PYG{n+nb}{long}\PYG{p}{,} \PYG{n}{k\PYGZus{}set}\PYG{p}{):}
  \PYG{k}{for} \PYG{p}{(}\PYG{n}{r} \PYG{o}{\PYGZlt{}\PYGZhy{}} \PYG{n}{grid\PYGZus{}record}\PYG{p}{):}
    \PYG{k}{if} \PYG{n}{r} \PYG{o}{\PYGZlt{}} \PYG{n}{k\PYGZus{}set}\PYG{o}{.}\PYG{n}{max} \PYG{o+ow}{or} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{k\PYGZus{}set}\PYG{p}{)} \PYG{o}{\PYGZlt{}} \PYG{n}{k}
      \PYG{n}{k\PYGZus{}set}\PYG{o}{.}\PYG{n}{insert}\PYG{p}{(}\PYG{n}{r}\PYG{p}{)}
  \PYG{n}{rerurn} \PYG{n}{k\PYGZus{}set}
\end{Verbatim}
